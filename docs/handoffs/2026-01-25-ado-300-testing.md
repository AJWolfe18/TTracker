# 2026-01-25: ADO-300 In Testing

**ADO-300** at Testing state. Code complete, needs validation.

## What's Done
- Migration 072 on TEST DB (clamp_reason, publish_override, facts_model_used, retry_reason)
- gpt-5-mini primary with fallback: `gpt-5-mini → gpt-4o-mini → gpt-4o`
- Clamp detection fixed (was false-positive on all SCOTUS cases)
- 1 case tested successfully (Connelly - correct label, no false clamp)

## Commits on test branch
```
b0157b1 feat(scotus): ADO-300 clamp/retry/publish override
3fac9b1 fix(scotus): use gpt-5-mini as primary
d96f223 fix(scotus): gpt-5-mini compatibility + clamp detection fix
```

## Next Session: Validation Testing
1. Reset 20-30 enriched cases to `pending`:
   ```sql
   UPDATE scotus_cases
   SET enrichment_status = 'pending', clamp_reason = NULL,
       publish_override = false, facts_model_used = NULL
   WHERE enrichment_status = 'enriched'
   ORDER BY decided_at DESC LIMIT 25;
   ```

2. Run enrichment:
   ```bash
   node scripts/scotus/enrich-scotus.js --limit=25
   ```

3. Check Sidestepping rate (target: 15-25%, baseline was 57%):
   ```sql
   SELECT ruling_label, COUNT(*) n,
          ROUND(100.0 * COUNT(*) / SUM(COUNT(*)) OVER (), 1) pct
   FROM scotus_cases WHERE is_public = true
   GROUP BY ruling_label ORDER BY n DESC;
   ```

4. If rate drops to target → move ADO-300 to Ready for Prod

## After ADO-300 Closes
- Cherry-pick to main, apply migration 072 to PROD
- ADO-295 (backfill system) is separate follow-up
