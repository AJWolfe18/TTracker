# Handoff: TTRC-359 Vox Feed Fix + Planning

**Date:** 2026-01-04
**Branch:** test
**JIRA:** TTRC-359

---

## What Was Done

### 1. Vox Feed URL Updated

| Before | After |
|--------|-------|
| `vox.com/rss/index.xml` (full site) | `vox.com/rss/politics/index.xml` (politics only) |

**Impact:** Eliminates ~30-50% of junk articles (tech, culture, health content) with zero code changes.

**Verification:** Confirmed feed is active (250KB, real politics content like Venezuela/Maduro).

### 2. RSS Test Triggered

- Run ID: 20706130880
- Flags: `log_canonical=true`
- Check results: `gh run view 20706130880 --log`

---

## TTRC-359 Full Plan (Not Implemented Yet)

Plan documented at: `C:\Users\Josh\.claude\plans\buzzing-munching-waterfall.md`

### Problem (Remaining After Vox Fix)

~10% of articles are irrelevant despite existing scorer.js filters:
- Obituaries ("dies at 38")
- State politics ("California open-carry ban")
- Listicles ("26 things we think...")
- Entertainment tangents

### Recommended Approach: Soft Gate + 2-Layer Filter

**Layer A (drops):** URL paths + title patterns for obvious junk
```javascript
DROP_PATH_RX: /obituaries/, /travel/, /arts/, /style/, /food/, /sports/
DROP_TITLE_RX: /obituary/, /dies at \d+/, /crossword/, /recipe/, /review:/
```

**Layer B (keeps):** Executive branch = implicitly Trump-relevant
```javascript
EXEC_AGENCY_RX: DOJ, ICE, DHS, FBI, CBP, ATF, DEA, State Dept, Treasury, etc.
TRUMP_ADMIN_RX: trump, white house, mar-a-lago, executive order
CABINET_RX: rubio, vance, noem, bondi, patel, hegseth, musk
```

**Key insight:** Courts/Congress are "contextual" - only keep if exec tie + action verb.

### Soft Gate Behavior

- Mark `is_relevant=false` instead of hard dropping
- Skip embedding/clustering/enrichment for irrelevant articles
- Can reprocess later if filter was wrong

---

## Next Steps (Future Session)

1. **Review this RSS run** - Check if Vox junk is eliminated
2. **Assess remaining junk** - Is 10% still a problem after Vox fix?
3. **If yes, implement Layer A first** - Just add DROP_PATH/DROP_TITLE to scorer.js
4. **Shadow mode** - Log what would be filtered, review for false positives
5. **If clean, add soft gate** - Add `is_relevant` column, update clustering/enrichment

---

## Files to Modify (When Ready)

| File | Change |
|------|--------|
| `scripts/rss/scorer.js` | Add DROP_PATH_RX, DROP_TITLE_RX, EXEC_AGENCY_RX |
| `scripts/rss/fetch_feed.js` | Call new checkRelevance(), set is_relevant |
| `migrations/028_add_is_relevant.sql` | Add is_relevant column |
| `.github/workflows/rss-tracker-test.yml` | Add RELEVANCE_GATE_SHADOW flag |

---

## Decision Points (For Next Session)

1. **Soft gate vs hard drop?** - Start soft, revisit after validation
2. **Shadow mode duration?** - 2-3 RSS runs recommended
3. **Cabinet name list scope?** - Current: 7 names, expand if needed

---

## JIRA Status

TTRC-359 remains in Backlog. Update when implementation begins.
